<br/>

<!-- tabs:start -->

#### **IChannel**

```csharp
public interface IChannel : IAsyncDisposable, IDisposable
{
     
     # [ 声明队列 ] 存在则返回该队列
     Task<QueueDeclareOk> QueueDeclareAsync(
         string queue, 
         bool durable,    // [ 是否持久 ]
         bool exclusive,  // [ 是否排他 ] true：只允许当前连接访问 ( 连接断开后队列自动删除 )
         bool autoDelete, // [ 是否自动删除 ] true：最后一个消费者断开连接后自动删除队列
         # [ 队列高级配置 ] 也可用于设置消息过期时间、最大长度等
         IDictionary<string, object?>? arguments = null, 
         bool passive = false, // false：正常声明队列，不存在则创建
         bool noWait = false,  // false: 客户端会等待服务器响应, 只有服务器确认队列声明成功后才返回 ( 如果声明失败，会立即抛出异常 )
         CancellationToken cancellationToken = default);
    
     # [ 发送消息 ] Producer ( 生产者 )
     ValueTask BasicPublishAsync<TProperties>(
         string exchange,   // 交换机 ( "": 默认交换机 ) 
         string routingKey, // 路由键 ( 针对简单 | 工作队列此处代表：队列名称 )
         /// <summary>
         /// [ 控制消息路由行为 ]
         ///   - true: 如果消息无法根据 routingKey 路由到任何队列 RabbitMQ 会将消息返回给生产者( 触发 BasicReturn 事件 ) 或者抛出异常
         ///   - false: 消息无法路由时会被 RabbitMQ 直接丢弃 ( 生产者不会收到任何通知 )
         ///   
         /// </summary>
         bool mandatory, 
         
         TProperties basicProperties,  // [ 消息属性 ] 
         ReadOnlyMemory<byte> body,    // [ 消息内容 ]
         CancellationToken cancellationToken = default) where TProperties : IReadOnlyBasicProperties, IAmqpHeader;
         
}


```



#### **[ ☢ 消息属性 ]BasicProperties**

```csharp
public sealed class BasicProperties : IBasicProperties, IAmqpHeader
{
    
     public IDictionary<string, object?>? Headers { get; set; }
     public string? ContentType { get; set; }
     public string? ContentEncoding { get; set; }
     
     public string? MessageId { get; set; }       // 唯一标识
     public string? ClusterId { get; set; }       // 
     public AmqpTimestamp Timestamp { get; set; } // 消息时间戳
     public string? Expiration { get; set; }      // 过期时间 ( 字符串: 单位毫秒 )
     public byte Priority { get; set; }           // 消息优先级( 0~255 )
    
     public string? Type { get; set; }            // 消息类型
     public string? AppId { get; set; }           // 消息来源( 标识消息来源应用 )
     public string? UserId { get; set; }          // 消息发送者
    
     # [ 消息是否持久化 ] true: 消息会被写入磁盘 ( 保证消息不丢失 )
     public bool Persistent
     {
          get => DeliveryMode == DeliveryModes.Persistent;
          // DeliveryModes.Persistent: 持久化消息
          set => DeliveryMode = value ? DeliveryModes.Persistent : DeliveryModes.Transient;
     }
     
     # [ 消息关联 ] 业务标识 ( 可以用来标识某个业务流程或事务, 方便后续处理 )
     public string? CorrelationId { get; set; }
     # [ 标识集群 ]
     public string? ClusterId { get; set; }
     
     /*... 代码忽略 ...*/
    
}


```





#### **Tab3**

TAB-内容...

Bonjour!

<!-- tabs:end -->



