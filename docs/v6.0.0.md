<br/>

```csharp
public class AuthorizationHandlerContext
{

     public virtual ClaimsPrincipal User { get; }   // [ 用户标识 ]
     public virtual object? Resource { get; }       // [ HttpContext ] 一般由外界传递
     
     private bool _failCalled;     // [ 授权失败 ]
     private bool _succeedCalled;  // [ 授权成功 ]
     public virtual bool HasSucceeded => _failCalled == false 
                                      && ( _succeedCalled == true && !this._pendingRequirements.Any() );

     # [ 权限列表 ]
     public virtual IEnumerable<IAuthorizationRequirement> Requirements { get; }
     # [ 尚未鉴权 ]
     private readonly HashSet<IAuthorizationRequirement> _pendingRequirements;
    
     public AuthorizationHandlerContext(IEnumerable<IAuthorizationRequirement> requirements, object? Resource, ClaimsPrincipal user)
     {
          
          this.User = user;
          this.Resource = Resource;
          
          this.Requirements = requirements;
          this._pendingRequirements = new HashSet<IAuthorizationRequirement>(requirements);
          
     }     

     # [ 验证通过 ] 
     public virtual void Succeed(IAuthorizationRequirement requirement)
     {
          // 尚未鉴权列表中移除
          this._succeedCalled = true;
          this._pendingRequirements.Remove(requirement); 
     }

     # [ 验证失败 ]
     public virtual void Fail() => _failCalled = true;
     
}


```

